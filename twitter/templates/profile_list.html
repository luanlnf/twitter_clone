{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container py-4">
  <h2 class="mb-4 fw-bold">Users</h2>

  {% if profiles %}
    {% for profile in profiles %}
      <div class="card shadow-sm mb-4 profile-card">
        <div class="row g-0">

          <div class="col-md-3 d-flex justify-content-center align-items-center p-2">
            {% if profile.profile_image %}
              <img
                src="{{ profile.profile_image.url }}"
                class="rounded-circle profile-avatar"
                style="width:120px;height:120px;object-fit:cover;"
                alt="{{ profile.user.username }}"
              />
            {% else %}
              <img
                src="{% static 'images/default_profile_pic.png' %}"
                style="width:120px;height:120px;object-fit:cover;"
                class="rounded-circle profile-avatar"
                alt="Profile Image"
              />
            {% endif %}
          </div>

          <div class="col-md-9">
            <div class="card-body">
              <h5 class="fw-bold mb-1">{{ profile.user.username }}</h5>

              <p class="text-muted small mb-2">
                <a href="{% url 'profile' profile.user.id %}" class="username-link">
                  @{{ profile.user.username|lower }}
                </a>
              </p>

              <p class="text-muted small">
                Last Updated: {{ profile.date_modified }}
              </p>

            </div>
          </div>

        </div>
      </div>
    {% endfor %}
  {% endif %}
</div>

{% endblock %}
